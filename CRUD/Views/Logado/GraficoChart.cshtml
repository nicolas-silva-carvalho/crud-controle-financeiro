
@*<input id="ID" value="Mostrar Gráfico" type="button" />
<input id="IDs" value="Mostrar Gráfico" type="button" />*@

<body>
    <div class="menu-relatorio">
    <h2>Relatórios de compras</h2>
        <a asp-action="Index" asp-asp-controller="Logado" role="button" class="button-relatorio">Voltar</a>
    </div>

    <div>
        @Html.Raw(ViewBag.preçoMaisCaro)
    </div>

    <div>
        @Html.Raw(ViewBag.total)
    </div>

    <div>
        @Html.Raw(ViewBag.totalProdutos)
    </div>

    <section>
        <div id="IDs" class="chart-position-3">
            <canvas id="myCharts" style="width: 300px; height: 300px;"></canvas>
    </div>
    <br />

    <div id="ID" class="chart-position">
            <canvas id="myChart" style="width: 400px; height: 300px;"></canvas>
    </div>
    
    <br />
    <div id="IDss" class="chart-position-2">
        <canvas id="myChartss" style="width: 400px; height: 300px;"></canvas>
    </div>
    </section>

    
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script type="text/javascript">

    $(function () {
        $("#ID").show(function () {

            $.ajax({
                type: "POST",
                url: "/Logado/GraficoCharts",
                data: "",
                contextType: "application/json; charset=utf-8",
                dataType: "json",
                success: OnSucessResult,
                error: OnError
            });

            function OnSucessResult (data){
                
                var _data=data;
                var _chartLabels=_data[0];
                var _chartData=_data[1];

                var barColor = ["red", "green", "yellow", "blue", "black", "#a12fda", "#1a1d45", "black"];

                new Chart("myChart",
                {
                    type:"bar",
                    data: {
                        labels: _chartLabels,
                        datasets: [{
                            label: 'Custo por produto',
                            backgroundColor: barColor,
                            data: _chartData
                           
                        }]
                    }
                });

            }

            function OnError (err) {

            }

        });
    }); 



    $(function () {
        $("#IDs").show(function () {

            $.ajax({
                type: "POST",
                url: "/Logado/GraficoCharts",
                data: "",
                contextType: "application/json; charset=utf-8",
                dataType: "json",
                success: OnSucessResultt,
                error: OnErrorr
            });

            function OnSucessResultt(data) {

                var _data = data;
                var _chartLabels = _data[0];
                var _chartData = _data[1];

                var barColor = ["rgb(255, 99, 132)", "green", "yellow", "blue", "rgb(54, 162, 235)", "black", "#a12fda", "#1a1d45"];

                new Chart("myCharts",
                    {
                        type: "pie",
                        data: {
                            labels: _chartLabels,
                            datasets: [{
                                backgroundColor: barColor,
                                data: _chartData
                            }]
                        }
                    });

            }

            function OnErrorr(err) {

            }

        });
    });

    $(function () {
        $("#IDss").show(function () {

            $.ajax({
                type: "POST",
                url: "/Logado/GraficoCharts",
                data: "",
                contextType: "application/json; charset=utf-8",
                dataType: "json",
                success: OnSucessResultt,
                error: OnErrorr
            });

            function OnSucessResultt(data) {

                var _data = data;
                var _chartLabels = _data[0];
                var _chartData = _data[1];

                var barColor = ["rgb(255, 99, 132)", "green", "yellow", "blue", "rgb(54, 162, 235)", "black", "black", "black"];

                new Chart("myChartss",
                    {
                        type: "line",
                        data: {
                            labels: _chartLabels,
                            datasets: [{
                                backgroundColor: barColor,
                                data: _chartData
                            }]
                        }
                    });

            }

            function OnErrorr(err) {

            }

        });
    });
</script>